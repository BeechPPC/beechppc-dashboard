{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Image Generation Configuration",
  "description": "Schema for generating brand-consistent abstract illustrations with controlled parameters",
  "type": "object",
  "required": ["theme", "composition", "colors", "style", "technical"],
  "properties": {
    "theme": {
      "description": "The core concept and visual metaphor for the image",
      "type": "object",
      "required": ["concept"],
      "properties": {
        "concept": {
          "type": "string",
          "description": "Primary subject matter (e.g., 'knowledge network with interconnected nodes')"
        },
        "visual_metaphor": {
          "type": "string",
          "description": "The metaphorical representation (e.g., 'flowing river of data', 'assembly line transformation')"
        },
        "flow_direction": {
          "type": "string",
          "enum": ["left-to-right", "right-to-left", "top-to-bottom", "bottom-to-top", "diagonal-upper-left-to-lower-right", "diagonal-upper-right-to-lower-left", "center-outward", "edges-inward", "circular"],
          "description": "Direction of visual flow or transformation"
        },
        "transformation": {
          "type": "object",
          "description": "If showing transformation, define the before and after states",
          "properties": {
            "from": {"type": "string", "description": "Starting state (e.g., 'scattered fragments')"},
            "to": {"type": "string", "description": "Ending state (e.g., 'organized structure')"},
            "transition_zone": {"type": "string", "description": "How the transformation occurs (e.g., 'gradual alignment', 'converging streams')"}
          }
        }
      }
    },
    "composition": {
      "description": "How elements are arranged in the image space",
      "type": "object",
      "required": ["layout"],
      "properties": {
        "layout": {
          "type": "string",
          "enum": ["asymmetric", "symmetric", "centered", "rule-of-thirds", "diagonal", "spiral", "radial"],
          "description": "Overall compositional structure"
        },
        "visual_flow": {
          "type": "string",
          "description": "How the eye moves through the image (e.g., 'left-to-right progression', 'center radiating outward')"
        },
        "perspective": {
          "type": "string",
          "enum": ["atmospheric", "flat", "layered", "isometric"],
          "default": "atmospheric",
          "description": "Depth and perspective technique"
        },
        "depth_technique": {
          "type": "string",
          "enum": ["translucent overlapping", "size variation", "color gradation", "blur gradient", "layered transparency"],
          "default": "translucent overlapping",
          "description": "How depth is created"
        },
        "focal_point": {
          "type": "string",
          "enum": ["center", "left-third", "right-third", "upper-third", "lower-third", "distributed"],
          "description": "Where visual attention should concentrate"
        }
      }
    },
    "colors": {
      "description": "Color palette and distribution",
      "type": "object",
      "required": ["palette_name"],
      "properties": {
        "palette_name": {
          "type": "string",
          "enum": ["brand-standard", "brand-cool", "brand-warm", "brand-vibrant", "brand-muted", "custom"],
          "default": "brand-standard",
          "description": "Predefined color palette to use"
        },
        "primary": {
          "type": "array",
          "items": {"type": "string"},
          "default": ["cobalt blue", "navy blue"],
          "description": "Primary colors (dominant in composition)"
        },
        "accents": {
          "type": "array",
          "items": {"type": "string"},
          "default": ["orange", "burnt orange"],
          "description": "Accent colors (highlights and focal points)"
        },
        "transitions": {
          "type": "array",
          "items": {"type": "string"},
          "default": ["purple-gray", "mauve"],
          "description": "Transition/gradient colors"
        },
        "distribution": {
          "type": "string",
          "description": "How colors are distributed (e.g., 'blue dominant with orange accents', 'gradient from blue to orange')"
        }
      }
    },
    "style": {
      "description": "Visual style and aesthetic properties",
      "type": "object",
      "properties": {
        "forms": {
          "type": "string",
          "enum": ["organic flowing shapes", "geometric angular", "mixed organic-geometric", "liquid fluid", "crystalline"],
          "default": "organic flowing shapes",
          "description": "Fundamental form language"
        },
        "shapes": {
          "type": "string",
          "enum": ["soft rounded", "hard angular", "mixed", "amorphous", "structured"],
          "default": "soft rounded",
          "description": "Edge treatment of shapes"
        },
        "texture": {
          "type": "string",
          "enum": ["subtle fine grain", "smooth gradient", "rough organic", "glossy", "matte", "none"],
          "default": "subtle fine grain",
          "description": "Surface texture quality"
        },
        "overlay": {
          "type": "string",
          "enum": ["seamless gradient mesh", "gradient overlay", "translucent layers", "none"],
          "default": "seamless gradient mesh",
          "description": "Overlay effects applied"
        },
        "aesthetic": {
          "type": "string",
          "enum": ["contemporary minimalist abstract", "organic natural", "technical modern", "artistic expressive", "professional clean"],
          "default": "contemporary minimalist abstract",
          "description": "Overall aesthetic direction"
        },
        "detail_level": {
          "type": "string",
          "enum": ["minimal", "moderate", "detailed", "intricate"],
          "default": "moderate",
          "description": "Amount of visual detail"
        }
      }
    },
    "elements": {
      "description": "Specific elements to include in different layers",
      "type": "object",
      "properties": {
        "foreground": {
          "type": "string",
          "description": "Elements in the foreground (larger, clearer)"
        },
        "midground": {
          "type": "string",
          "description": "Elements in the middle layer"
        },
        "background": {
          "type": "string",
          "description": "Elements in the background (smaller, softer)"
        },
        "key_objects": {
          "type": "array",
          "items": {"type": "string"},
          "description": "Specific objects or shapes that must appear"
        }
      }
    },
    "technical": {
      "description": "Technical specifications and constraints",
      "type": "object",
      "required": ["aspect_ratio", "orientation"],
      "properties": {
        "aspect_ratio": {
          "type": "string",
          "enum": ["16:9", "4:3", "1:1", "3:2", "9:16"],
          "default": "16:9",
          "description": "Image aspect ratio"
        },
        "orientation": {
          "type": "string",
          "enum": ["landscape", "portrait", "square"],
          "default": "landscape",
          "description": "Image orientation"
        },
        "image_size": {
          "type": "string",
          "enum": ["landscape_16_9", "landscape_4_3", "portrait_16_9", "portrait_4_3", "square"],
          "default": "landscape_16_9",
          "description": "Fal.ai image size parameter"
        },
        "exclusions": {
          "type": "array",
          "items": {"type": "string"},
          "default": ["text", "numbers", "letters", "geometric forms", "mechanical elements"],
          "description": "Elements to explicitly exclude"
        },
        "seed": {
          "type": "integer",
          "description": "Optional seed for reproducible generation"
        }
      }
    },
    "metadata": {
      "description": "Optional metadata for organization",
      "type": "object",
      "properties": {
        "name": {"type": "string", "description": "Descriptive name for this configuration"},
        "use_case": {"type": "string", "description": "Intended use (e.g., 'blog post', 'course slide', 'social media')"},
        "tags": {"type": "array", "items": {"type": "string"}, "description": "Tags for categorization"},
        "notes": {"type": "string", "description": "Additional notes or context"}
      }
    }
  }
}
